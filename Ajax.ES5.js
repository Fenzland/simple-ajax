(function(a,b){return'undefined'!=typeof module&&module.exports?module.exports=b():'undefined'!=typeof define&&define.amd?a.define(b):a.Ajax=b()})(this,function(){'use strict';function a(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'',g=f?f.indexOf('?')+1?'&':'?':'';for(var h in d)f+=g+h+'='+encodeURIComponent(d[h]),g='&';return f}function b(d){var f=document.createElement('a');return f.href=d,d.origin!==location.origin}var c=function(d,f,g,h){var j={},k=new Promise(function(l){var n=new XMLHttpRequest;for(var o in n.onreadystatechange=function(){if(4==n.readyState){var p={status:n.status,statusText:n.statusText,content:n.responseText,getHeader:function getHeader(q){return n.getResponseHeader(q)}};try{p.json=JSON.parse(n.responseText)}catch(q){p.json=null}l(p)}},n.open(d,f,!0),g)n.setRequestHeader(o,g[o]);n.send(h)});return function(l){return l.when=function(m,n){if(m in j)throw'Http status '+m+' has already been listeners.';return j[m]=n,l},l.else=function(m){return j[0]=m,l},l}(k.then(function(l){if(l.status in j)return j[l.status](l);return 0 in j?j[0](l):void 0}))};return{OPTIONS:function OPTIONS(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return c('OPTIONS',d,f,null)},HEAD:function HEAD(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return c('HEAD',d,f,null)},GET:function GET(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return c('GET',d,f,null)},DELETE:function DELETE(d){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return c('DELETE',d,f,null)},POST:function POST(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return c('POST',d,g,f)},PUT:function PUT(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return c('PUT',d,g,f)},PATCH:function PATCH(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return c('PATCH',d,g,f)},get:function get(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return b(d)||(g['X-Requested-With']='XMLHttpRequest'),c('GET',a(f,d),g)},post:function post(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return b(d)||(g['X-Requested-With']='XMLHttpRequest'),g['Content-Type']='application/x-www-form-urlencoded',c('POST',d,g,a(f))},put:function put(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return b(d)||(g['X-Requested-With']='XMLHttpRequest'),g['Content-Type']='application/x-www-form-urlencoded',c('PUT',d,g,a(f))},patch:function patch(d){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return b(d)||(g['X-Requested-With']='XMLHttpRequest'),g['Content-Type']='application/x-www-form-urlencoded',c('PATCH',d,g,a(f))}}});
